이벤트와 예외처리
========

## 1. 이벤트

- events 모듈을 사용

| 메소드 | 설명 |
|-|-|
| on(이벤트명, 콜백) | 이벤트 이름과 이벤트 발생 시의 콜백을 연결(이벤트 리스닝)<br>이벤트 하나에 여러 이벤트를 연결할 수 있음 |
| addListener(이벤트명, 콜백) | on과 같은 기능 |
| emit(이벤트명) | 이벤트를 호출하는 메소드 |
| once(이벤트명, 콜백) | 한 번만 실행되는 이벤트 |
| removeAllListeners(이벤트명) | 이벤트에 연결된 모든 이벤트 리스너를 제거 |
| removeListener(이벤트명, 리스너) | 이벤트에 연결된 이벤트 리스너를 하나씩 제거 |
| off(이벤트명, 콜백) | removeListener와 깉은 기능. 노드10에서 추가 |
| listenerCount(이벤트명) | 현재 리스너가 몇 개 연결되어 있는지 확인 |


## 2. 예외 처리

- 예외: 처리하지 못한 에러
- 예외 발생시 실행 중이 노드 프로세스를 중지시킴
  - 멀티 스레드 프로그램에서는 스레드가 작동 중지 되면 다른 스레드가 대신하지만, 노드는 스레드가 하나 뿐 = 스레드 중지 시 전체 서버가 중지됨
- 에러 로그는 기록하되 작업은 계속 진행될 수 있도록 에러 처리를 해야 함
  - throw된 에러를 try catch문으로 처리할 것
- **노드 내장 모듈의 에러는 실행 중인 프로세스를 중지시키지 않음**


### 예측이 불가능한 에러의 경우

- process 객체에 uncaughtException 이벤트 리스너를 등록하여 처리하지 못 한 에러가 발생했을 때 이벤트 리스너가 실행되고 프로세스를 유지시킴
  - uncaughtException은 이벤트 발생 후 다음 동작이 제대로 동작하는지 보증하지 않음
  - 에러를 기록하는 정도로 사용하는 것을 권장
  - process.exit()로 프로세스를 종료시킨 뒤 재시작하는 것이 좋음

