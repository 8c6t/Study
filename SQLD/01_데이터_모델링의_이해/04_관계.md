관계(Relationship)
========

## 1. 관계의 개념

### 가. 관계의 정의

- 엔터티의 인스턴스 사이의 논리적인 연관성으로서, 존재의 형태로서나 행위로서 **서로에게 연관성이 부여된 상태**
- 관계는 엔터티의 정의에 따라 영향을 받기도 하고, 속성 정의 및 관계 정의에 따라서도 다양하게 변할 수 있다

### 나. 관계의 페어링

- 관계는 엔터티 안에 인스턴스가 개별적으로 관계를 가지는 것(페어링) 이고, 이것의 집합을 관계로 표현한다는 것
- 관계는 두 엔터티 사이에 두 개 이상의 관계 형성이 가능
- 엔터티는 인스턴스의 집합을 논리적으로 표현하였다면, 관계는 관계 페어링의 집합을 논리적으로 표현한 것

## 2. 관계의 분류

![relationship](../../img/sql/relationship.jpg)

- 존재에 의한 관계: 두 엔터티 사이의 관계가 존재의 형태에 의해 형성
- 행위에 의한 관계: 두 엔터티 사이의 관계가 행위에 의한 관계로 인해 형성

## 3. 관계의 표기법

- 관계명(Membership) : 관계의 이름
- 관계차수(Cardinality) : 1:1, 1:N, M:N
- 관계선택사양(Optionality) : 필수관계, 선택관계

### 가. 관계명

- 엔터티가 관계에 참여하는 형태를 지칭
- 관계가 시작되는 편을 관계시작점이라고 부르고, 받는 편을 관계끝점이라 부른다.
- 관계시작점과 끝점 모두 관계이름을 가져야 하며, 참여자의 관점에 따라 관계이름이 능동적이거나 수동적으로 명명된다.

#### ※ 관계명명 규칙

- 애매한 동사를 피한다
- 현재형으로 표현한다

### 나. 관계차수

- 두 개의 엔터티간 관계에서 참여자의 수를 표현하는 것
- 가장 중요하게 고려할 사항은 한 개의 관계가 존재하느냐, 아니면 두 개 이상의 멤버십이 존재하는지를 파악하는 것.

#### 1) 1:1 관계

![1_1](../../img/sql/relation_1_1.jpg)

#### 2) 1:M 관계

![1_m](../../img/sql/relation_1_m.jpg)

#### 3) M:M 관계

![m_m](../../img/sql/relation_m_m.jpg)

### 다. 관계선택사양

- 필수참여관계 : 물리속성에서 FK로 연결될 경우 Null을 허용할 수 있는 항목
- 선택참여관계 : 참여하는 모든 차명자가 반드시 관계를 가지는, 타 엔터티의 참여자와 연결이 되어야 하는 관계


## 4. 관계의 정의 및 읽는 방법

### 가. 관계 체크사항

- 두 개의 엔터티 사이에 관심있는 연관규칙이 존재하는가?
- 두 개의 엔터티 사이에 정보의 조합이 발생되는가?
- 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?
- 업무기술서, 장표에 관계연결을 가능하게 하는 **동사**가 있는가

### 나. 관계 읽기

![relation_read](../../img/sql/relation_read.jpg)

관계에 참여하는 기준 엔터티를 하나 또는 각(Each)로 읽고, 대상 엔터티의 개수(하나, 하나 이상)을 읽고 관계선택사양과 관계명을 읽도록 한다

- 기준(Source) 엔터티를 한 개(One) 또는 각(Each)으로 읽는다
- 대상(Target) 엔터티의 관계참여도, 즉 개수(하나, 하나 이상)를 읽는다
- 관계선택사양과 관계명을 읽는다
